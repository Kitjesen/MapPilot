# 快速开始指南

## 1. 安装 App

### Android
1. 从 [GitHub Releases](https://github.com/Kitjesen/MapPilot/releases/latest) 下载最新 `.apk` 文件
2. 在手机上打开 APK 文件（需开启"允许安装未知来源应用"）
3. 安装完成后启动"大算机器人"

### Windows
1. 从 [GitHub Releases](https://github.com/Kitjesen/MapPilot/releases/latest) 下载 Windows zip 包
2. 解压到任意目录
3. 双击 `dasuan_robot.exe` 启动

### iOS
1. 通过 TestFlight 安装（联系技术支持获取邀请链接）

---

## 2. 连接机器人

### 自动发现（推荐）
1. 确保手机/电脑与机器人在**同一局域网**
2. 打开 App，进入"扫描"页面
3. App 会自动扫描局域网中的机器人
4. 点击发现的机器人即可连接

### 手动连接
1. 在"扫描"页面切换到"手动"标签
2. 输入机器人 IP 地址（例如 `192.168.1.100`）
3. 端口默认 `50051`（gRPC 网关）
4. 点击"连接"

### 连接状态
- **绿色圆点** = 已连接
- **红色圆点** = 未连接
- 连接断开后 App 会自动尝试重连（可在设置中关闭）

---

## 3. 基本操作

### 查看机器人状态
连接后进入主页面，可以看到：
- 电池电量
- 运动模式
- 当前位置
- 传感器状态

### 控制机器人
1. 点击"控制"进入控制页面
2. 首先获取控制权（点击"获取租约"按钮）
3. 使用虚拟摇杆控制机器人移动
4. 完成后释放控制权

### 建图
1. 进入"任务"面板
2. 选择"建图"任务
3. 使用摇杆缓慢移动机器人探索环境
4. 建图完成后 App 会自动保存地图

### 导航
1. 进入"地图管理"
2. 选择已保存的地图
3. 设置目标点
4. 启动导航任务

### 相机
1. 在主页面点击"相机画面"
2. 查看机器人实时视频流
3. 支持前后相机切换

---

## 4. OTA 固件更新

### 从云端更新
1. 进入 设置 → 固件升级(OTA)
2. 点击"检查更新"
3. 如有新版本，点击对应资产的"部署"按钮
4. App 会自动下载 → 上传 → 预检查 → 安装 → 验证
5. 进度条实时显示当前阶段

### 从本地文件更新
1. 进入 设置 → 固件升级(OTA)
2. 点击"选择固件文件并上传"
3. 选择本地 `.bin` / `.onnx` / `.engine` 等文件
4. App 自动执行部署流程

### 更新源配置
1. 进入 设置 → 云端更新源
2. 配置 GitHub 仓库（组织/仓库名）
3. 或切换到自定义 URL 模式

---

## 5. 注意事项

- 固件更新前确保机器人**电量 > 30%**
- 关键固件更新时 App 会自动让机器人坐下并释放控制权
- 更新过程中请勿断开网络连接
- 如更新失败，可点击"重试"从断点继续
